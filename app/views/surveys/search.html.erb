<%= stylesheet_link_tag 'dropdown.css' %>
<style type="text/css">

  /* -------------------- Page Styles (not required) */
  div { margin: 5px; }

  /* -------------------- Select Box Styles: bavotasan.com Method (with special adaptations by ericrasch.com) */
  /* -------------------- Source: http://bavotasan.com/2011/style-select-box-using-only-css/ */
  .styled-select {
     background: url(http://i62.tinypic.com/15xvbd5.png) no-repeat 96% 0;
     height: 29px;
     overflow: hidden;
     width: 200px;
  }

  .styled-select select {
     background: transparent;
     border: none;
     font-size: 10px;
     height: 29px;
     padding: 5px; /* If you add too much padding here, the options won't show in IE */
     width: 268px;
  }

  .styled-select.slate {
     background: url(http://i62.tinypic.com/2e3ybe1.jpg) no-repeat right center;
     height: 34px;
     width: 240px;
  }

  .styled-select.slate select {
     border: 1px solid #ccc;
     font-size: 16px;
     height: 34px;
     width: 268px;
  }

  /* -------------------- Rounded Corners */
  .rounded {
     -webkit-border-radius: 20px;
     -moz-border-radius: 20px;
     border-radius: 20px;
  }

  .semi-square {
     -webkit-border-radius: 5px;
     -moz-border-radius: 5px;
     border-radius: 5px;
  }

  /* -------------------- Colors: Background */
  .slate   { background-color: #ddd; }
  .green   { background-color: #779126; }
  .blue    { background-color: #3b8ec2; }
  .yellow  { background-color: #eec111; }
  .black   { background-color: #000; }

  /* -------------------- Colors: Text */
  .slate select   { color: #000; }
  .green select   { color: #fff; }
  .blue select    { color: #fff; }
  .yellow select  { color: #000; }
  .black select   { color: #fff; }


  /* -------------------- Select Box Styles: danielneumann.com Method */
  /* -------------------- Source: http://danielneumann.com/blog/how-to-style-dropdown-with-css-only/ */
  #mainselection select {
     border: 0;
     color: #EEE;
     background: transparent;
     font-size: 20px;
     font-weight: bold;
     padding: 2px 10px;
     width: 378px;
     *width: 350px;
     *background: #58B14C;
     -webkit-appearance: none;
  }

  #mainselection {
     overflow:hidden;
     width:350px;
     -moz-border-radius: 9px 9px 9px 9px;
     -webkit-border-radius: 9px 9px 9px 9px;
     border-radius: 9px 9px 9px 9px;
     box-shadow: 1px 1px 11px #330033;
     background: #58B14C url("http://i62.tinypic.com/15xvbd5.png") no-repeat scroll 319px center;
  }


  /* -------------------- Select Box Styles: stackoverflow.com Method */
  /* -------------------- Source: http://stackoverflow.com/a/5809186 */
  select#soflow, select#soflow-color {
     -webkit-appearance: button;
     -webkit-border-radius: 2px;
     -webkit-box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.1);
     -webkit-padding-end: 20px;
     -webkit-padding-start: 2px;
     -webkit-user-select: none;
     background-image: url(http://i62.tinypic.com/15xvbd5.png), -webkit-linear-gradient(#FAFAFA, #F4F4F4 40%, #E5E5E5);
     background-position: 97% center;
     background-repeat: no-repeat;
     border: 1px solid #AAA;
     color: #555;
     font-size: inherit;
     margin: 20px;
     overflow: hidden;
     padding: 5px 10px;
     text-overflow: ellipsis;
     white-space: nowrap;
     width: 300px;
  }

  select#soflow-color {
     color: #fff;
     background-image: url(http://i62.tinypic.com/15xvbd5.png), -webkit-linear-gradient(#779126, #779126 40%, #779126);
     background-color: #779126;
     -webkit-border-radius: 20px;
     -moz-border-radius: 20px;
     border-radius: 20px;
     padding-left: 15px;
  }

  .button {
      background-color: #00000A;/*#4CAF50;*/
      border: none;
      color: white;
      padding: 15px 32px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 14px;
      margin: 0px 0px;
      cursor: pointer;
  }
</style>

<center>
  <%= image_tag('logo-iconcadd.png') %>
</center>

<center>
  <h1>Search Surveys</h1>
  <hr/>

  <div class="container">
  <%= form_with url: surveys_searchResults_path, :html => {:id=>'search_form_id'}, local: true do |f| %>    <div class="table">
      <div class="table-header">
    			<div class="header__item"><a id="Organisation" class="filter__link">Organisation</a>
          </div>
    			<div class="header__item"><a id="City" class="filter__link">City</a>
          </div>
          <div class="header__item"><a id="Location" class="filter__link">Location</a>
          </div>
    			<div class="header__item"><a id="Unit" class="filter__link">Unit</a>
          </div>
          <div class="header__item"><a id="Tower" class="filter__link">Tower</a>
          </div>
          <div class="header__item"><a id="Floor" class="filter__link">Floor</a>
          </div>
      </div>
      <div class="table-content">
        <div class="table-row">
          <div class="table-data styled-select blue semi-square">
              <!-- %= f.label :organisation, "Organisation" % -->
              <%= f.collection_select(:organisation, Organisation.order(:name), :id, :name, {:include_blank => 'Select Organisation'}, {id: "organisation"}) %>
          </div>
          <div class="table-data styled-select blue semi-square">
              <!-- %= f.label :city, "City" % -->
              <%= f.grouped_collection_select :city, Organisation.order(:name), :cities, :name, :id, :name, {:include_blank => 'Select City'}, {id: "city"}  %>
          </div>
          <div class="table-data styled-select blue semi-square">
              <!-- %= f.label :location, "Location" % -->
              <%= f.grouped_collection_select :location, City.order(:name), :locations, :name, :id, :name, {:include_blank => 'Select Location'}, {id: "location"} %>
          </div>
          <div class="table-data styled-select blue semi-square">
              <!-- %= f.label :unit, "Unit" % -->
              <%# = f.select :unit, ['All', 'EC-1', 'EC-2', 'EC-3', 'EC-4', 'EC-5']%>
              <%= f.grouped_collection_select :unit, Location.order(:name), :units, :name, :id, :name, {:include_blank => 'Select Unit'}, {id: "unit"} %>
          </div>
          <div class="table-data styled-select blue semi-square">
              <!-- %= f.label :tower, "Tower" % -->
              <%#= f.select :tower, ['All', 'Tower-1','Tower-2', 'Tower-3', 'Tower-4', 'Utility Block']%>
              <%= f.grouped_collection_select :tower, Unit.order(:name), :towers, :name, :id, :name, {:include_blank => 'Select Tower'}, {id: "tower"} %>
          </div>
          <div class="table-data styled-select blue semi-square">
              <!-- %= f.label :floor, "Floor" % -->
              <%# = f.select :floor, ['All', '0','1','2']%>
              <%= f.grouped_collection_select :floor, Tower.order(:name), :floors, :name, :id, :name, {:include_blank => 'Select Floor'}, {id: "floor"} %>
          </div>
        </div>
      </div>
      <%= f.submit "Search", :class => 'button'%>
      <hr/>

      <% if @orgPlan %>
        <%= image_tag(@orgPlan, width: "1280", height: "640", alt:"org", usemap:"#orgmap", :style => "border: 1px solid grey") %>
      <% end %>

      <map name="orgmap">
        <area shape="circle" coords="1170,80,15" alt="Tower-1" href = "#" onclick = "document.getElementById('search_form_id').submit();">
        <area shape="circle" coords="124,58,8" alt="Venus" href="venus.htm">
      </map>
  <% end %>
  <br/>
  <%= link_to 'Back', surveys_path %>

  </div>

</center>
